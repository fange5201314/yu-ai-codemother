# ChatHistory API 测试请求文件
# 在IntelliJ IDEA中可以直接点击运行按钮执行请求

### 1. 保存对话历史
POST http://localhost:8123/api/chatHistory/save
Content-Type: application/json

{
  "message": "你好，这是一条测试消息",
  "messageType": "user",
  "appId": 1,
  "userId": 1
}

### 2. 再保存一条AI回复
POST http://localhost:8123/api/chatHistory/save
Content-Type: application/json

{
  "message": "你好！我是AI助手，很高兴为你服务。",
  "messageType": "ai",
  "appId": 1,
  "userId": 1
}

### 3. 查询所有对话历史列表
GET http://localhost:8123/api/chatHistory/list

### 4. 根据ID获取对话历史详情 (将ID替换为实际ID)
GET http://localhost:8123/api/chatHistory/getInfo/1

### 5. 分页查询对话历史
GET http://localhost:8123/api/chatHistory/page?pageNumber=1&pageSize=10

### 6. 按应用ID查询对话历史（游标查询）
GET http://localhost:8123/api/chatHistory/app/1?pageSize=10

### 7. 按应用ID查询对话历史（带时间游标）
GET http://localhost:8123/api/chatHistory/app/1?pageSize=10&lastCreateTime=2023-12-01T10:00:00

### 8. 管理员分页查询所有对话历史（需要管理员权限）
POST http://localhost:8123/api/chatHistory/admin/list/page/vo
Content-Type: application/json

{
  "pageNum": 1,
  "pageSize": 10,
  "appId": 1,
  "messageType": "user"
}

### 9. 更新对话历史 (将ID替换为实际ID)
PUT http://localhost:8123/api/chatHistory/update
Content-Type: application/json

{
  "id": 1,
  "message": "这是更新后的消息内容",
  "messageType": "user",
  "appId": 1,
  "userId": 1
}

### 10. 删除对话历史 (将ID替换为实际ID)
DELETE http://localhost:8123/api/chatHistory/remove/1

### 测试不同场景
### 11. 测试空消息（应该失败）
POST http://localhost:8123/api/chatHistory/save
Content-Type: application/json

{
  "message": "",
  "messageType": "user",
  "appId": 1,
  "userId": 1
}

### 12. 测试不存在的记录
GET http://localhost:8123/api/chatHistory/getInfo/99999